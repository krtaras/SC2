<div ng-controller="HomeTabController as homeTab">
    <div class="action-box">
        <input class="search" type="text" ng-model="homeTab.searchText" ng-keypress="homeTab.onenter($event)"/>
        <i class="material-icons action-icon" style="margin-left: -25px;" ng-click="homeTab.search()">search</i>

        <div class="action-btn" ng-click="homeTab.getCharts()">
            <i class="material-icons action-icon">people</i>
            <label>Charts</label>
        </div>
        <div class="action-btn" ng-if="homeTab.currentUser.scUser" ng-click="homeTab.stream()">
            <i class="material-icons action-icon">home</i>
            <label>Stream</label>
        </div>
        
    </div>
    <div class="list" id="list">
        <div id="loading"></div>
        <div ng-repeat="item in homeTab.list">
            <div ng-if="item.type == 'sound'" class="sound" ng-class="(item.id == homeTab.sound.id && !homeTab.sound.inPlaylist) ? 'active' : '' " id="s{{item.id}}">
                <div ng-click="homeTab.playSound(item.id, -1)" class="info">
                    <div class="image" style="background-image: {{item.art.length > 0 ? 'url(' + item.art + ')' : 'url(https://w.soundcloud.com/icon/assets/images/orange_transparent_64-94fc761.png)'}}"></div>
                    <div class="title">{{item.title}}</div>
                </div>
                <div class="actions">
                    <i class="material-icons" ng-if="homeTab.currentUser.scUser">favorite_border</i>
                    <i class="material-icons" ng-click="">exit_to_app</i>
                    <a href="{{homeTab.getDownloadUrl(item.id)}}" download="{{homeTab.sound.title}}.mp3">
                        <i class="material-icons">file_download</i>
                    </a>
                </div>
            </div>
            <div ng-if="item.type == 'playlist'" class="playlist" id="p{{item.id}}">
                <div class="playlist-info">
                    <div class="info">
                        <div class="image" style="background-image: {{item.art.length > 0 ? 'url(' + item.art + ')' : 'url(https://w.soundcloud.com/icon/assets/images/orange_transparent_64-94fc761.png)'}}"></div>
                        <div class="title">{{item.title}}</div>
                    </div>
                    <div class="actions">
                        <i class="material-icons">favorite_border</i>
                        <i class="material-icons" ng-click="">exit_to_app</i>
                    </div>
                </div>
                <div class="list-sound" ng-repeat="sound in item.sounds" ng-class="(sound.id == homeTab.sound.id && homeTab.sound.inPlaylist && item.id == homeTab.playlist.id) ? 'active' : '' " id="ps{{sound.id}}">
                    <div ng-click="homeTab.playSound(sound.id, item.id)" class="info">
                        <div class="image" style="background-image: {{sound.art.length > 0 ? 'url(' + sound.art + ')' : 'url(https://w.soundcloud.com/icon/assets/images/orange_transparent_64-94fc761.png)'}}"></div>
                        <div class="title">{{sound.title}}</div>
                    </div>
                    <div class="actions">
                        <i class="material-icons">favorite_border</i>
                        <i class="material-icons" ng-click="">exit_to_app</i>
                        <a href="" download="aa.mp3">
                            <i class="material-icons">file_download</i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>